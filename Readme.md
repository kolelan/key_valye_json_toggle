# JSON Toggle - Конвертер форматов JSON

Утилита для преобразования между двумя форматами хранения словарных данных в JSON.

## Возможности

- **Автоопределение формата** входных данных
- **Двустороннее преобразование** между форматами
- **Сохранение в компактном виде** с читаемыми переносами строк
- **Поддержка UTF-8** для работы с русским языком

## Поддерживаемые форматы

### Формат 1: Структурированные объекты
```json
[
    {"name": "ключ1", "desc": "значение1"},
    {"name": "ключ2", "desc": "значение2"},
    {"name": "ключ3", "desc": ""}
]
```

### Формат 2: Компактные словари
```json
[
    {"ключ1": "значение1"},
    {"ключ2": "значение2"},
    {"ключ3": ""}
]
```

## Установка

```bash
# Просто сохраните файл json_toggle.py в нужной директории
# Требуется только Python 3.x
```

## Использование

### Командная строка

```bash
python json_toggle.py входной_файл.json выходной_файл.json
```

### Примеры

```bash
# Преобразование из Формата 1 в Формат 2
python json_toggle.py structured.json compact.json

# Преобразование из Формата 2 в Формат 1  
python json_toggle.py compact.json structured.json
```

### Программное использование

```python
from json_toggle import process_json_file

success = process_json_file("input.json", "output.json")
if success:
    print("Преобразование завершено успешно")
```

## Особенности

- **Автоматическое определение** формата на основе структуры данных
- **Сохраняет порядок** элементов при преобразовании
- **Обрабатывает пустые значения** (пустые строки)
- **Гибкая конфигурация** - можно изменить ключи через переменные `NAME_KEY` и `DESC_KEY`

## Обработка ошибок

- Проверка корректности JSON формата
- Валидация структуры входных данных
- Подробные сообщения об ошибках в консоли
- Проверка аргументов командной строки

## Требования

- Python 3.x
- Стандартная библиотека Python (внешние зависимости не требуются)

## Использование в проектах

Можно импортировать как модуль для использования в других скриптах:

```python
from json_toggle import convert_format1_to_format2, convert_format2_to_format1

# Прямое преобразование данных
data_format1 = [{"name": "test", "desc": "value"}]
data_format2 = convert_format1_to_format2(data_format1)

# Обратное преобразование
restored_data = convert_format2_to_format1(data_format2)
```

## Лицензия

MIT License - свободное использование и модификация разрешены.
